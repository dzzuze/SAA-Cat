# Date: 2026-02-25

- **What was done:**

Today was all about Firebase.
After our phone call, I realized I don’t fully understand how Firebase authentication actually works, so before writing code I spent a few hours reading about it — how `onAuthStateChanged` works, how sessions are restored, what Firebase stores, and how routing should react to auth state.
At first I thought Firebase was just “some login service”.  
But the more I read, the more I understood it basically replaces backend authentication completely.

After that I implemented `AuthProvider` and connected it with routing.
Then I implemented:
- Firebase initialization (`initializeApp`, `getAuth`)
- `AuthProvider` with `onAuthStateChanged`
- `user` and `loading` state
- Connected routing guards to auth state
- Added redirect back to the original page after login using `state.from`

Now protected routes depend on real auth state instead of hardcoded logic.

- **Decisions / Notes:**

Decided to:
- Use context (`AuthProvider`) as a single source of truth for auth
- Always wait for `loading` to finish before redirecting
- Keep routing logic independent from Firebase config details
- Prepare everything so once real `.env` keys are added, it works immediately

Also clarified that:
- ProtectedRoute protects UI only
- Real security must be handled through Firebase rules

- **Problems / Questions:**

1. Vite refused to start.
   The issue was Node version — I was using Node 18.20.5, but Vite requires 20+.
   I had to upgrade Node using `nvm`, switch versions, reinstall dependencies.

2.  Without handling `loading` state properly, routes instantly redirected to `/login`, which was confusing at first.

3.  we have placeholder Firebase keys in `.env`. So technically auth won’t fully work until the real project is configured in Firebase Console and Email/Password is enabled.

But routing logic itself is ready.

- **Plans / Next steps:**

- Wait for Firebase project configuration
- Test full auth flow (register → login → protected routes)
- Possibly add logout logic and small UI improvements

- **Time spent:** ~6 hours